# values-eks.yaml
# Optimized for EKS with AWS S3 and IAM Roles

global:
  clusterName: "your-eks-cluster" # CHANGE THIS to your EKS cluster name
  tenantId: "tenant1"
  storage:
    type: "s3"
    s3:
      region: "us-east-1" # CHANGE THIS to your AWS region
      endpoint: "" # Leave empty to use AWS S3 directly
      bucketPrefix: "mltp-observability"

minio:
  enabled: false # Disable internal MinIO for EKS

# --- Loki EKS Overrides ---
loki:
  serviceAccount:
    create: true
    annotations:
      # CHANGE THIS to your IAM Role ARN with S3 permissions
      eks.amazonaws.com/role-arn: "arn:aws:iam::ACCOUNT_ID:role/YOUR_LOKI_ROLE_NAME"
  loki:
    storage_config:
      aws:
        bucketnames: "your-loki-chunks-bucket" # CHANGE THIS
        region: "us-east-1"
        s3forcepathstyle: false
    ruler:
      storage:
        s3:
          bucketnames: "your-loki-ruler-bucket" # CHANGE THIS

# --- Mimir EKS Overrides ---
mimir-distributed:
  serviceAccount:
    create: true
    annotations:
      # CHANGE THIS to your IAM Role ARN
      eks.amazonaws.com/role-arn: "arn:aws:iam::ACCOUNT_ID:role/YOUR_MIMIR_ROLE_NAME"
  mimir:
    structuredConfig:
      common:
        storage:
          s3:
            bucket_name: "your-mimir-blocks-bucket" # CHANGE THIS
            region: "us-east-1"

# --- Tempo EKS Overrides ---
tempo-distributed:
  serviceAccount:
    create: true
    annotations:
      # CHANGE THIS to your IAM Role ARN
      eks.amazonaws.com/role-arn: "arn:aws:iam::ACCOUNT_ID:role/YOUR_TEMPO_ROLE_NAME"
  storage:
    trace:
      s3:
        bucket: "your-tempo-traces-bucket" # CHANGE THIS
        region: "us-east-1"
        forcepathstyle: false
